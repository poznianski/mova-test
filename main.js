const questions = {
  A1: {
    "1. Complete the sentences. Use on, in, at or to.": [
      {
        question: "The class is .... Monday morning.",
        options: ["ON", "IN", "AT", "TO"],
        answer: "ON",
      },

      {
        question: "The briefing is .... 08:00 hours",
        options: ["ON", "IN", "AT", "TO"],
        answer: "AT",
      },
      {
        question: "We start training .... the morning.",
        options: ["ON", "IN", "AT", "TO"],
        answer: "IN",
      },
      {
        question: "PT is from 14:00 .... 16:00 hours.",
        options: ["ON", "IN", "AT", "TO"],
        answer: "TO",
      },
      {
        question: "He was born .... 1965.",
        options: ["ON", "IN", "AT", "TO"],
        answer: "IN",
      },
      {
        question: "The flight is .... 21:15. ",
        options: ["ON", "IN", "AT", "TO"],
        answer: "AT",
      },
    ],
    "2. Circle the correct word.": [
      {
        question: "She .... Australian doctor.",
        options: ["a", "an"],
        answer: "an",
      },
      {
        question: "They are .... tanks.",
        options: ["German", "Germans"],
        answer: "German",
      },
      {
        question: "Do you have .... batteries?",
        options: ["an", "some"],
        answer: "some",
      },
      {
        question: "I don't need .... compass.",
        options: ["a", "any"],
        answer: "any",
      },
      {
        question: "We need .... shoe polish.",
        options: ["some", "a"],
        answer: "some",
      },
      {
        question: ".... there any people in the building?",
        options: ["Is", "Are"],
        answer: "Are",
      },
      {
        question: "There .... any good maps.",
        options: ["isn't", "aren't"],
        answer: "aren't",
      },
      {
        question: "We found .... guns in the truck, sir.",
        options: ["these", "this"],
        answer: "these",
      },
    ],
    "3. Circle the correct word to complete the sentences.": [
      {
        question: "How .... are you staying?",
        options: ["long", "much", "old", "time"],
        answer: "long",
      },
      {
        question: "How .... does it weigh?",
        options: ["many", "tall", "much", "big"],
        answer: "much",
      },
      {
        question: ".... are you going?",
        options: ["where", "who", "which", "what"],
        answer: "where",
      },
      {
        question: "What .... does the train arrive?",
        options: ["time", "hour", "long", "often"],
        answer: "time",
      },
      {
        question: "How .... does a ticket cost?",
        options: ["money", "quantity", "many", "much"],
        answer: "much",
      },
    ],
    "4. Circle the correct word.": [
      {
        question: "Good morning. I .... Captain Boyd.",
        options: ["am", "is"],
        answer: "am",
      },
      {
        question: "She .... for her country.",
        options: ["runs", "run"],
        answer: "runs",
      },
      {
        question: ".... it fire rounds?",
        options: ["Do", "Does"],
        answer: "Does",
      },
      {
        question: "He .... speak Ukrainian and Polish.",
        options: ["cans", "can"],
        answer: "can",
      },
      {
        question: "Where .... you born?",
        options: ["were", "was"],
        answer: "were",
      },
      {
        question: ".... you posted abroad?",
        options: ["were", "did"],
        answer: "were",
      },
      {
        question: "They .... train for war.",
        options: ["weren't", "didn't"],
        answer: "didn't",
      },
    ],
  },
  A2: {
    "1. Choose the opposite word": [
      {
        question: "Start point",
        options: ["reporting point", "release point"],
        answer: "release point",
      },
      {
        question: "negative (radio language)",
        options: ["positive", "affirmative"],
        answer: "affirmative",
      },
      {
        question: "ally",
        options: ["friend", "enemy"],
        answer: "enemy",
      },
      {
        question: "land",
        options: ["take off", "overtake"],
        answer: "take off",
      },
      {
        question: "return ticket",
        options: ["single ticket", "simple ticket"],
        answer: "single ticket",
      },
      {
        question: "load (your weapon)",
        options: ["lock", "unload"],
        answer: "unload",
      },
    ],
    "2. Choose the correct form": [
      {
        question: "They were tasked to recce / with recce the perimeter.",
        options: ["to recce", "with recce"],
        answer: "to recce",
      },
      {
        question:
          "Vehicles can't / are not permitted to use this road after 10 pm.",
        options: ["can't", "are not permitted"],
        answer: "are not permitted",
      },
      {
        question: "Their mission was for / to defend the bridge.",
        options: ["for", "to"],
        answer: "to",
      },
      {
        question:
          "Helicopters are not allowed / shouldn't to land on this roof.",
        options: ["not allowed", "shouldn't"],
        answer: "not allowed",
      },
      {
        question: "It's prohibited to / necessary park here.",
        options: ["prohibited to", "necessary"],
        answer: "prohibited to",
      },
    ],
    "3. Choose the correct word": [
      {
        question: "They travelled .... convoy",
        options: ["at", "in", "on", "for"],
        answer: "in",
      },
      {
        question: "They waited .... a message.",
        options: ["at", "in", "on", "for"],
        answer: "for",
      },
      {
        question: "Their lives were not .... immediate danger.",
        options: ["at", "in", "on", "for"],
        answer: "in",
      },
      {
        question: "There were sandbags .... the main entrance.",
        options: ["at", "in", "on", "for"],
        answer: "at",
      },
      {
        question: "There are tanks moving .... our right flank.",
        options: ["at", "in", "on", "for"],
        answer: "on",
      },
      {
        question: "You are responsible .... planning our route.",
        options: ["of", "for", "with", "to"],
        answer: "for",
      },
      {
        question: "The troops will report .... the Polish general.",
        options: ["of", "at", "with", "to"],
        answer: "to",
      },
      {
        question: "The helicopter arrived .... the landing zone early.",
        options: ["over", "in", "at", "to"],
        answer: "at",
      },
      {
        question: "There's a sniper .... the roof.",
        options: ["on", "in", "for", "to"],
        answer: "on",
      },
      {
        question: "There is a fence .... the perimeter.",
        options: ["round", "through", "for", "over"],
        answer: "round",
      },
    ],
    "4. Complete the sentences. Use these words.": [
      {
        question:
          "First you must check for trip wires .... you prod the ground for mines.",
        options: ["after", "before", "if", "unless", "until", "when"],
        answer: "before",
      },
      {
        question: "Radio your base .... you need help. ",
        options: ["after", "before", "if", "unless", "until", "when"],
        answer: "if",
      },
      {
        question:
          "Do not leave the camp .... last light. You could be shot in the dark by mistake.",
        options: ["after", "before", "if", "unless", "until", "when"],
        answer: "after",
      },
      {
        question:
          "Do not use deadly fire .... You are attacked and your life is in danger.",
        options: ["after", "before", "if", "unless", "until", "when"],
        answer: "unless",
      },
      {
        question: ".... you reach the junction, turn left.",
        options: ["after", "before", "if", "unless", "until", "when"],
        answer: "when",
      },
    ],
  },
  B1: {
    "1.	Choose the correct words.": [
      {
        question:
          "In the past, criminals were allowed .... join the French Foreign Legion.",
        options: ["for", "from", "to", "by"],
        answer: "to",
      },
      {
        question: "Coy .... recently returned from a UN mission in Africa.",
        options: ["has", "were", "did", "have"],
        answer: "has",
      },
      {
        question:
          "The Coy rebuilt the school during / while / for / since they were deployed in Kosovo",
        options: ["during", "while", "for", "since"],
        answer: "while",
      },
      {
        question:
          "Stay .... the right-hand lane until you see the signs for Fort Carson.",
        options: ["in", "at", "on", "to"],
        answer: "in",
      },
      {
        question: "Call G9 and .... them make the arrangements.",
        options: ["tell", "get", "ask", "have"],
        answer: "have",
      },
      {
        question: "I am responsible .... maintenance of equipment and weapons.",
        options: ["to", "for", "with", "of"],
        answer: "for",
      },
    ],
    "2.	Circle the correct form of the verbs.": [
      {
        question:
          "Troops .... mines from the border area since they have been here.",
        options: ["have cleared", "cleared"],
        answer: "have cleared",
      },
      {
        question: "They .... from the area yesterday.",
        options: ["have withdrawn", "withdrew"],
        answer: "withdrew",
      },
      {
        question: "During the conflict his unit .... to Afghanistan.",
        options: ["has deployed", "deployed"],
        answer: "deployed",
      },
      {
        question: ".... in a peacekeeping mission?",
        options: ["have you ever served", "did you ever serve"],
        answer: "dhave you ever served",
      },
      {
        question: "He's still on patrol. He .... to base yet.",
        options: ["hasn't returned", "didn't return"],
        answer: "hasn't returned",
      },
    ],
    "3.	Complete the sentences. Use during, while or for.": [
      {
        question: "He first saw action .... the Gulf War.",
        options: ["during", "while", "for"],
        answer: "during",
      },
      {
        question: "I served in my first unit .... six years.",
        options: ["during", "while", "for"],
        answer: "for",
      },
      {
        question: ".... I was deployed in Kosovo I was promoted to Captain",
        options: ["during", "while", "for"],
        answer: "while",
      },
    ],
    "4.	Complete the sentences. Use for, to, with, of or - (no word).": [
      {
        question:
          "I am responsible .... the Officer Commanding maintenance of equipment. ",
        options: ["for", "of", "to", "with", "-"],
        answer: "for",
      },
      {
        question: "He supervises .... the work of a small team. ",
        options: ["for", "of", "to", "with", "-"],
        answer: "-",
      },
      {
        question:
          "3.	Protocol deals .... the preparation and supervision of the visit.",
        options: ["for", "of", "to", "with", "-"],
        answer: "with",
      },
    ],
  },
  B2: {
    "1. Which word is different?": [
      {
        question: "Which word is different?",
        options: [
          "cheese omelette",
          "ice-cream",
          "beef burgee",
          "grilled salmon",
        ],
        answer: "ice-cream",
      },
      {
        question: "Which word is different?",
        options: ["robbery", "murder", "patrol", "theft"],
        answer: "patrol",
      },
      {
        question: "Which word is different?",
        options: ["landing gear", "cockpit", "tail boom", "starboard"],
        answer: "starboard",
      },
      {
        question: "Which word is different?",
        options: ["appetite", "bleeding", "fracture", "shock"],
        answer: "appetite",
      },
      {
        question: "Which word is different?",
        options: ["appetite", "bleeding", "fracture", "shock"],
        answer: "appetite",
      },
      {
        question: "Which word is different?",
        options: ["combatant", "observer", "guerrilla forces", "child soldier"],
        answer: "observer",
      },
    ],
    "2.	Circle the correct words.": [
      {
        question: "How long does the battery .... ?",
        options: ["last", "take"],
        answer: "last",
      },
      {
        question: "The memory card won't come ....",
        options: ["up", "out"],
        answer: "out",
      },
      {
        question: "The battery's very ....",
        options: ["quiet", "low"],
        answer: "low",
      },
      {
        question: "The zoom .... getting stuck.",
        options: ["keeps", "always"],
        answer: "keeps",
      },
    ],
    "3.	Circle the correct words to complete the sentences.": [
      {
        question:
          "On a ship, the openings from one deck to another are called ",
        options: ["compartments", "passageways", "hatches", "bulkheads"],
        answer: "hatches",
      },
      {
        question:
          "An exercise where the armed forces of more than one country participates is called ",
        options: [
          "combined arms exercise",
          "joint exercise",
          "combined exercise",
          "allied exercise",
        ],
        answer: "combined arms exercise",
      },
      {
        question: "To make a violent attack against an objective is ",
        options: ["to seize", "to assault", "to secure", "to fix"],
        answer: "to assault",
      },
    ],
    "4.	Complete the sentences.": [
      {
        question:
          "The ground rescue team had laid .... (deliver) suppressive fire.",
        options: ["down", "out", "in ", "back", "up"],
        answer: "down",
      },
      {
        question: "I picked .... (collect) the casualty without any problem.",
        options: ["down", "out", "in ", "back", "up"],
        answer: "up",
      },
      {
        question:
          "When I was heading .... (return) to base, I received fire from below.",
        options: ["down", "out", "in ", "back", "up"],
        answer: "back",
      },
      {
        question:
          "We were hit but I took .... (destroy) the position with cannon fire.",
        options: ["down", "out", "in ", "back", "up"],
        answer: "out",
      },
    ],
  },
  C1: {
    "1. Which word is different?": [
      {
        question: "Which word is different?",
        options: [
          "commission",
          "rotation",
          "temporary duty assignent",
          "tour of duty",
        ],
        answer: "commission",
      },
      {
        question: "Which word is different?",
        options: ["carry on", "get out", "join up", "stay on"],
        answer: "get out",
      },
      {
        question: "Which word is different?",
        options: ["earthquake", "famine", "landslide", "war"],
        answer: "war",
      },
      {
        question: "Which word is different?",
        options: ["battle", "campaign ", "engagement", "tactic"],
        answer: "tactic",
      },
      {
        question: "Which word is different?",
        options: ["attack", "engage ", "envelop", "retire"],
        answer: "retire",
      },
      {
        question: "Which word is different?",
        options: [
          "detective",
          "grounded ",
          "in commission",
          "out of commission",
        ],
        answer: "in commission",
      },
    ],
    "2. Circle the correct form of the verbs.": [
      {
        question: "Exercise Gallant Eagle .... every two years.",
        options: ["takes place", "is taking place "],
        answer: "takes place",
      },
      {
        question:
          "The Wing is currently .... very hard to prepare for the exercise.",
        options: ["working", "works"],
        answer: "working",
      },
      {
        question: "The staff .... warning of the exercise in May.",
        options: ["received ", "was receiving"],
        answer: "received",
      },
      {
        question:
          "The news did not come as a surprise - the staft .... to take part in the exercise.",
        options: ["expected", "were expecting"],
        answer: "were expecting",
      },
      {
        question: "The Wing .... for the exercise since January.",
        options: ["has been preparing ", "has been preparing"],
        answer: "has been preparing ",
      },
      {
        question: "Most aircraft .... testing and are in good condition.",
        options: ["completed", "have completed "],
        answer: "have completed  ",
      },
      {
        question:
          "A number of aircraft were out of commission until just days before the exercise .... .",
        options: ["was starting", "started"],
        answer: "started",
      },
      {
        question:
          "The parts only arrived on Monday because a maintenance group techucian .... an order for the wrong parts.",
        options: ["sent", "had sent "],
        answer: "had sent ",
      },
    ],
    "3.Choose the correct form of the verb.": [
      {
        question:
          "You can't go through this checkpoint unless you .... a pass.",
        options: ["have", "had"],
        answer: "have",
      },
      {
        question: "If I .... you, I would send someone to check with your HQ.",
        options: ["am", "were"],
        answer: "were",
      },
      {
        question:
          "3 If you .... them, they would tell you we had authorisation",
        options: ["contact", "contacted"],
        answer: "contacted",
      },
    ],
  },
};

let currentQuestionIndex = 0;
let currentSection = "A1";
let currentSubSection = 1;

const questionElement = document.querySelector("#question");
const optionsElement = document.querySelector("#options");
const nextButton = document.querySelector("#next-button");
const quizContainer = document.querySelector("#quiz-container");
const resultParagraph = document.createElement("p");

const displayQuestion = (section, subSection, index) => {
  const questionData = questions[section][subSection][index];

  questionElement.textContent = questionData.question;
  optionsElement.innerHTML = "";

  const form = document.createElement("form");
  form.id = "option-form";

  questionData.options.forEach((option, i) => {
    const radio = document.createElement("input");
    radio.type = "radio";
    radio.name = "option";
    radio.value = option;
    radio.id = `option${i}`;

    if (i === 0) {
      radio.checked = true;
    }

    const label = document.createElement("label");
    label.htmlFor = `option${i}`;
    label.textContent = option;

    form.appendChild(radio);
    form.appendChild(label);
    form.appendChild(document.createElement("br"));
  });

  optionsElement.appendChild(form);
};

const handleAnswerClick = () => {
  const formData = new FormData(document.getElementById("option-form"));
  const selectedAnswer = formData.get("option");

  resultParagraph.textContent = "";

  if (
    selectedAnswer ===
    questions[currentSection][currentSubSection][currentQuestionIndex].answer
  ) {
    resultParagraph.textContent = "Correct!";
  } else {
    resultParagraph.textContent = "Wrong!";
  }

  quizContainer.appendChild(resultParagraph);

  if (
    currentQuestionIndex <
    questions[currentSection][currentSubSection].length - 1
  ) {
    currentQuestionIndex++;
    displayQuestion(currentSection, currentSubSection, currentQuestionIndex);
  } else {
    // Move to the next subsection if available
    const subsections = Object.keys(questions[currentSection]);
    const nextSubSectionIndex =
      subsections.indexOf(String(currentSubSection)) + 1;

    if (nextSubSectionIndex < subsections.length) {
      currentSubSection = Number(subsections[nextSubSectionIndex]);
      currentQuestionIndex = 0;
      displayQuestion(currentSection, currentSubSection, currentQuestionIndex);
    } else {
      // All questions are completed
      resultParagraph.textContent = "All questions completed!";
      nextButton.disabled = true;
    }
  }
};
nextButton.addEventListener("click", () => {
  handleAnswerClick();

  if (
    currentQuestionIndex <
    questions[currentSection][currentSubSection].length - 1
  ) {
    currentQuestionIndex++;
    displayQuestion(currentSection, currentSubSection, currentQuestionIndex);
  }
});

// Start by displaying the first question
displayQuestion(currentSection, currentSubSection, currentQuestionIndex);
